<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>{{title}}</title>

	<link href="/img/favicon.png" rel="icon">
	<link rel="stylesheet" href="/css/fontawesome/css/fontawesome.min.css"> <!-- load fontawesome -->
	<link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css"> <!-- load fontawesome -->
	<link rel="stylesheet" href="/css/bootstrap.min.css"> <!-- load bootstrap css -->
	<link rel="stylesheet" href="/css/jquery-confirm.css">
	<link href="/css/google-fonts.css" rel="stylesheet">
	<link href="/css/bootstrap-select.min.css" rel="stylesheet" />
	<link href="/css/dataTables.responsive.css" rel="stylesheet" />
	<link rel="stylesheet" href="/css/main.css" />

	<script src="/js/jquery.js"></script>
	<script src='/js/bootstrap.min.js'></script>
	<script src='/js/bootstrap-select.min.js'></script>
	<script src="/js/jquery.validate.min.js"></script>
	<script src='/js/jquery.dataTables.min.js'></script>
	<script src="/js/dataTables.buttons.min.js"></script>
	<script src="/js/dataTables.responsive.min.js"></script>	
	<script src="/js/dataTables.fixedColumns.min.js"></script>	
	<script src="/js/dataTables.checkboxes.min.js"></script>		
	<script src="/js/jquery.highlight.js"></script>
	<script src="/js/jquery-confirm.js"></script>
	{{>helper}}

	<style>
		#nav_menu{
			width: 200px;
			border-right: 1px solid #444;
			display: flex;
			align-content: center;
			min-height: 100vh;
			background: linear-gradient(to right, #2C5364, #203A43, #0F2027); 
		}

		#nav_menu li
		{
			display: block;
			position: relative;
		}

		#nav_menu li a
		{
			padding: 10px;
			display: block;
			border-bottom: 1px solid #ccc;
			text-transform: uppercase;
			font-weight: bold;
			color: white;
			text-decoration: none;
		}

		#nav_menu li a:hover
		{
			background-color: aqua;
		}

		#nav_menu li a.active
		{
			background-color: rgb(253, 122, 0);
			border-bottom: 5px solid rgb(72 187 144);

		}

		#menu
		{
			list-style-type: none;
			margin:0;
			padding: 0;
			width: 100%;
		}

		#container
		{
			display: flex;
			justify-content: stretch;
		}

		#content
		{
			flex-grow: 1;
			padding: 20px 10px;
		}

		label
		{
			color:#ccc;
		}

		.jconfirm-box {
			background-color: #262626 !important;
		}

		.jconfirm-content,
		.jconfirm-title-c {
			color: white !important;
		}

	</style>
</head>

<body class="container-fluid">
	<div class="row">
		<main class="col" id="container">
			<nav id="nav_menu">
				<ul id="menu">
					<li>
						<a href="/privileges" id="privileges" style="display: none;">Privileges</a>
					</li>
					<li>
						<a href="/roles" id="roles" style="display:none;" >Roles</a>
					</li>
					<li>
						<a href="/users">Users</a>
					</li>
					<li>
						<a href="/admin_task" id="admin_task" style="display:none;" >Admin Tasks</a>
					</li>
					<li>
						<a href="/departments" id="departments">Departments</a>
					</li>
					<li>
						<a href="/migrations" id="migrations" style="display:none;">Migrations</a>
					</li>
				</ul>
			</nav>
			<section id="content">
				{{{ body }}}
			</section>
		</main>
	</div>
	<div id="loading-screen" style="display: none;">
			<div id="loading_gif">
					<img src="/images/Peel9Animated_5.gif" alt="loading_gif">
			</div>
	</div>
	
<script>
	$(document).ready(function(){

		let pathname = location.pathname;

		if (pathname.includes("/role_privileges/")) pathname = "/roles";

		$(`a[href="${ pathname }"]`).addClass("active");

		if ("{{ show_link }}" == "true")
		{
			$("#roles").show();
			$("#privileges").show();
			$("#admin_task").show();
			$("#migrations").show();
		}
	});
</script>
</body>
</html>